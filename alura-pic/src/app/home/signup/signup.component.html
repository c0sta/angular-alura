<h4 class="text-center">Register to embrace a new world!</h4>

<form class="form mt-4" [formGroup]="signupForm" (submit)="register()">
  <div class="form-group">
    <app-message
      *ngIf="signupForm.get('email').errors?.required"
      message="E-mail is required!"
    >
    </app-message>
    <input
      #emailInput
      placeholder="E-mail"
      class="form-control"
      formControlName="email"
    />
  </div>

  <div class="form-group">
    <app-message
      *ngIf="signupForm.get('fullName').errors?.required"
      message="Full Name is required!"
    >
    </app-message>
    <input
      placeholder="full name"
      formControlName="fullName"
      class="form-control"
    />
  </div>

  <div class="form-group">
    <app-message
      *ngIf="signupForm.get('userName').errors?.required"
      message="username is required!"
    >
    </app-message>
    <app-message
      *ngIf="signupForm.get('userName').errors?.lowerCase"
      message="Username must be lower case!"
    ></app-message>
    <app-message
      *ngIf="signupForm.get('userName').errors?.userNameTaken"
      message="Username already taken!"
    ></app-message>
    <small *ngIf="signupForm.get('userName').valid" class="text-success"
      >Username available</small
    >
    <input
      placeholder="user name"
      formControlName="userName"
      class="form-control"
    />
  </div>

  <div class="form-group">
    <app-message
      *ngIf="signupForm.get('password').errors?.required"
      message="Password is required!"
    >
    </app-message>
    <input
      type="password"
      placeholder="password"
      formControlName="password"
      class="form-control"
    />
  </div>

  <button
    [disabled]="signupForm.invalid || signupForm.pending"
    class="btn btn-primary btn-block"
    type="submit"
  >
    Register
  </button>

  <p>Already a user?<a [routerLink]="['']">Sign In!</a></p>
</form>
